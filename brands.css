/* brands.css â€” Northwest "Disney + Neon Glass" map theme + brand territories */

:root{
  --bg-0:#05070a;
  --bg-1:#061019;
  --glass:rgba(255,255,255,.08);
  --stroke:rgba(255,255,255,.18);
  --stroke-strong:rgba(255,255,255,.28);

  --text:rgba(255,255,255,.92);
  --muted:rgba(255,255,255,.68);
  --faint:rgba(255,255,255,.48);

  --shadow:0 12px 50px rgba(0,0,0,.55);
  --blur:14px;

  --marker-size:10px;
  --marker-ring:22px;

  --territory-opacity:.42;
  --territory-edge-softness:18px;
  --overlap-band-width:16px;
  --stripe-angle:28deg;
  --stripe-width:10px;
  --stripe-opacity:.55;

  /* Official brand colors provided */
  --brand-northwest:#85c446;
  --brand-carolina:#0399d6;
  --brand-sawyer:#ec2024;
  --brand-bughouse:#7c2529;
  --brand-volunteer:#ee8c02;

  /* Not provided in your last message; keeping prior placeholder until you set it */
  --brand-mccall:#ffb703;

  --brand-default:var(--brand-northwest);
}

html,body{
  height:100%;
  margin:0;
  color:var(--text);
  background:
    radial-gradient(1200px 700px at 20% 10%, rgba(133,196,70,.12), transparent 60%),
    radial-gradient(900px 650px at 85% 30%, rgba(3,153,214,.10), transparent 55%),
    linear-gradient(160deg, var(--bg-0), var(--bg-1));
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
}

.header{
  padding:16px 24px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  border-bottom:1px solid rgba(255,255,255,.08);
}
.header h1{margin:0; font-size:1.25rem; font-weight:700; letter-spacing:-0.01em;}
.header .subtitle{margin-top:4px; font-size:.85rem; color:var(--muted);}

.map-stage{
  position:relative;
  width:calc(100% - 32px);
  height:min(78vh, 860px);
  margin:16px;
  border-radius:22px;
  overflow:hidden;
  box-shadow:var(--shadow);
  border:1px solid rgba(255,255,255,.10);
  background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
}

#territoryCanvas{
  position:absolute; inset:0;
  width:100%; height:100%;
  opacity:var(--territory-opacity);
  pointer-events:none;
  mix-blend-mode:screen;
  filter:saturate(1.25) contrast(1.05);
}

#seMapSvg{
  position:absolute; inset:0;
  width:100%; height:100%;
  pointer-events:none;
  opacity:.85;
}
#seMapSvg path{
  fill:rgba(255,255,255,.035);
  stroke:rgba(255,255,255,.16);
  stroke-width:1.2;
  vector-effect:non-scaling-stroke;
}
#seMapSvg text{
  fill:rgba(255,255,255,.25);
  font-size:14px;
  font-weight:600;
}

.marker-layer{ position:absolute; inset:0; pointer-events:auto; }

.marker{
  position:absolute;
  width:var(--marker-size);
  height:var(--marker-size);
  transform:translate(-50%, -50%);
  border-radius:999px;
  background:var(--brand-default);
  box-shadow:0 0 0 1px rgba(0,0,0,.35),
             0 0 18px rgba(255,255,255,.10),
             0 0 22px rgba(133,196,70,.35);
  cursor:pointer;
  outline:none;
  transition:filter .18s ease, transform .18s ease;
}
.marker::before{
  content:"";
  position:absolute;
  inset:calc(var(--marker-ring) * -1);
  border-radius:999px;
  background:radial-gradient(circle, rgba(255,255,255,.25), transparent 60%);
  opacity:0;
  transform:scale(.9);
  transition:opacity .18s ease, transform .18s ease;
}
.marker::after{
  content:"";
  position:absolute;
  inset:-10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.16);
  opacity:.25;
}
.marker:hover::before,
.marker:focus-visible::before{ opacity:.9; transform:scale(1); }
.marker:hover,
.marker:focus-visible{ filter:brightness(1.15) saturate(1.3); transform:translate(-50%, -50%) scale(1.2); }

@keyframes pulseGlow{
  0%{ box-shadow:0 0 0 1px rgba(0,0,0,.35), 0 0 14px rgba(255,255,255,.08), 0 0 22px rgba(133,196,70,.28); }
  50%{ box-shadow:0 0 0 1px rgba(0,0,0,.35), 0 0 18px rgba(255,255,255,.12), 0 0 30px rgba(133,196,70,.44); }
  100%{ box-shadow:0 0 0 1px rgba(0,0,0,.35), 0 0 14px rgba(255,255,255,.08), 0 0 22px rgba(133,196,70,.28); }
}
.marker.is-active{ animation:pulseGlow 1.6s ease-in-out infinite; }
.marker.is-dim{ opacity:.18; filter:grayscale(.35); }
.marker.is-highlighted{ transform:translate(-50%, -50%) scale(1.5); z-index:100; }

.tooltip{
  position:absolute;
  min-width:260px; max-width:360px;
  padding:14px 14px 12px;
  border-radius:16px;
  background:linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.08));
  border:1px solid rgba(255,255,255,.18);
  box-shadow:0 20px 80px rgba(0,0,0,.55);
  backdrop-filter:blur(var(--blur));
  -webkit-backdrop-filter:blur(var(--blur));
  transform:translate3d(0, 10px, 0) scale(.98);
  opacity:0;
  pointer-events:none;
  transition:opacity .16s ease, transform .16s ease;
  z-index:1000;
}
.tooltip.is-open{ opacity:1; transform:translate3d(0,0,0) scale(1); }
.tooltip h3{ margin:0 0 6px 0; font-size:16px; letter-spacing:.2px; }
.tooltip .meta{ font-size:12px; color:var(--muted); line-height:1.35; }
.tooltip .badges{ display:flex; gap:8px; flex-wrap:wrap; margin-top:10px; }
.badge{
  font-size:11px;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.18);
  background:rgba(0,0,0,.22);
  color:var(--text);
}

.controls{
  position:absolute; top:14px; left:14px; right:14px;
  display:flex; gap:10px; align-items:center; flex-wrap:wrap;
  padding:12px;
  border-radius:18px;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.16);
  backdrop-filter:blur(var(--blur));
  -webkit-backdrop-filter:blur(var(--blur));
  z-index:100;
}
.controls input, .controls select, .controls button{
  height:40px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.16);
  background:rgba(0,0,0,.28);
  color:var(--text);
  padding:0 12px;
  outline:none;
  font-size:14px;
}
.controls input::placeholder{ color:var(--faint); }
.controls button{ cursor:pointer; transition:transform .12s ease, filter .12s ease; }
.controls button:hover{ transform:translateY(-1px); filter:brightness(1.1); }
.controls .spacer{ flex:1; }

.search-wrapper{ position:relative; min-width:240px; }
.search-wrapper input{ width:100%; }
.suggestions{
  position:absolute; top:100%; left:0; right:0;
  margin-top:4px;
  background:rgba(10,15,20,.95);
  border:1px solid rgba(255,255,255,.16);
  border-radius:12px;
  max-height:240px;
  overflow-y:auto;
  display:none;
  backdrop-filter:blur(var(--blur));
  z-index:200;
}
.suggestions.active{ display:block; }
.suggestion-item{
  padding:10px 12px;
  cursor:pointer;
  font-size:13px;
  color:var(--muted);
  transition:background .12s ease;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.suggestion-item:hover, .suggestion-item.selected{
  background:rgba(133,196,70,.15);
  color:var(--text);
}
.brand-tag{
  font-size:10px;
  padding:2px 6px;
  border-radius:4px;
  opacity:.8;
}

.toggle-wrapper{ display:flex; align-items:center; gap:8px; }
.toggle-wrapper input[type="checkbox"]{
  appearance:none;
  width:40px; height:22px;
  background:rgba(0,0,0,.4);
  border-radius:11px;
  position:relative;
  cursor:pointer;
  border:1px solid rgba(255,255,255,.16);
  transition:background .2s ease;
}
.toggle-wrapper input[type="checkbox"]::after{
  content:'';
  position:absolute;
  width:16px; height:16px;
  background:var(--muted);
  border-radius:50%;
  top:2px; left:3px;
  transition:transform .2s ease, background .2s ease;
}
.toggle-wrapper input[type="checkbox"]:checked{ background:var(--brand-northwest); }
.toggle-wrapper input[type="checkbox"]:checked::after{ transform:translateX(18px); background:var(--bg-0); }
.toggle-wrapper span{ font-size:13px; color:var(--muted); }

.legend{
  position:absolute; bottom:14px; left:14px;
  display:grid; gap:8px;
  padding:12px;
  border-radius:18px;
  background:rgba(255,255,255,.07);
  border:1px solid rgba(255,255,255,.14);
  backdrop-filter:blur(var(--blur));
  -webkit-backdrop-filter:blur(var(--blur));
}
.legend-item{ display:flex; align-items:center; gap:10px; font-size:12px; color:var(--muted); cursor:pointer; }
.legend-item:hover{ color:var(--text); }
.legend-swatch{ width:12px; height:12px; border-radius:4px; border:1px solid rgba(255,255,255,.18); box-shadow:0 0 16px rgba(255,255,255,.12); }

.stats{
  position:absolute; bottom:14px; right:14px;
  display:flex; gap:16px;
  padding:12px 16px;
  border-radius:18px;
  background:rgba(255,255,255,.07);
  border:1px solid rgba(255,255,255,.14);
  backdrop-filter:blur(var(--blur));
  -webkit-backdrop-filter:blur(var(--blur));
  -webkit-backdrop-filter:blur(var(--blur));
}
.stat{ text-align:center; }
.stat-value{ font-size:1.25rem; font-weight:800; color:var(--brand-northwest); }
.stat-label{ font-size:10px; text-transform:uppercase; letter-spacing:.05em; color:var(--faint); }

.brand--Northwest_Exterminating{ --brand-default:var(--brand-northwest); }
.brand--Carolina_Pest_Management{ --brand-default:var(--brand-carolina); }
.brand--Sawyer_Exterminating{ --brand-default:var(--brand-sawyer); }
.brand--Bug_House_Pest_Control{ --brand-default:var(--brand-bughouse); }
.brand--McCall_Pest_and_Wildlife{ --brand-default:var(--brand-mccall); }
.brand--Volunteer_Rid_A_Pest{ --brand-default:var(--brand-volunteer); }

.legend-swatch.brand--Northwest_Exterminating{ background:var(--brand-northwest); }
.legend-swatch.brand--Carolina_Pest_Management{ background:var(--brand-carolina); }
.legend-swatch.brand--Sawyer_Exterminating{ background:var(--brand-sawyer); }
.legend-swatch.brand--Bug_House_Pest_Control{ background:var(--brand-bughouse); }
.legend-swatch.brand--McCall_Pest_and_Wildlife{ background:var(--brand-mccall); }
.legend-swatch.brand--Volunteer_Rid_A_Pest{ background:var(--brand-volunteer); }

.brand-tag.Northwest_Exterminating{ background:rgba(133,196,70,.2); color:var(--brand-northwest); }
.brand-tag.Carolina_Pest_Management{ background:rgba(3,153,214,.2); color:var(--brand-carolina); }
.brand-tag.Sawyer_Exterminating{ background:rgba(236,32,36,.18); color:var(--brand-sawyer); }
.brand-tag.Bug_House_Pest_Control{ background:rgba(124,37,41,.20); color:var(--brand-bughouse); }
.brand-tag.McCall_Pest_and_Wildlife{ background:rgba(255,183,3,.20); color:var(--brand-mccall); }
.brand-tag.Volunteer_Rid_A_Pest{ background:rgba(238,140,2,.20); color:var(--brand-volunteer); }

@media (max-width:760px){
  .map-stage{ height:82vh; border-radius:18px; margin:8px; width:calc(100% - 16px); }
  .controls{ padding:10px; gap:8px; }
  .controls input,.controls select{ width:100%; }
  .search-wrapper{ width:100%; min-width:auto; }
  .tooltip{ min-width:220px; max-width:320px; }
  .legend{ max-width:170px; }
  .stats{ bottom:auto; top:70px; right:14px; flex-direction:column; gap:8px; padding:10px; }
}
